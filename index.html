<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø¯Ø±Ø³Ø© Ø£Ù…ÙŠØ± Ù„Ù„ØªÙƒÙˆÙŠÙ† Ø§Ù„Ù…Ø­ØªØ±Ù | Amir School</title>

    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <style>
        :root {
            --primary: #ff6b81;
            --primary-dark: #ff4757;
            --secondary-bg: #fff5f7;
            --bg-gradient: linear-gradient(135deg, #ffe0e9 0%, #fff0f6 100%);
            --white: #ffffff;
            --text: #333;
            --muted: #666;
            --radius: 25px;
            --shadow: 0 15px 35px rgba(255, 107, 129, 0.12);
            --success: #2ed573;
            --danger: #ff4757;
            --star-color: #FFD700;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: 'Cairo', sans-serif;
            background: var(--bg-gradient);
            min-height: 100vh;
            color: var(--text);
            overflow-x: hidden;
        }

        /* Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø®Ø¨Ø§Ø± */
        .news-ticker {
            background: var(--primary-dark);
            color: white;
            padding: 12px 0;
            overflow: hidden;
            position: sticky;
            top: 0;
            z-index: 2000;
            font-size: 0.95rem;
        }
        .ticker-content {
            display: inline-block;
            white-space: nowrap;
            animation: ticker 40s linear infinite;
        }
        @keyframes ticker {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        /* Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .main-wrapper { display: flex; justify-content: center; padding: 20px 10px; }
        .container {
            background: rgba(255, 255, 255, 0.98);
            width: 100%;
            max-width: 900px;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            text-align: center;
            position: relative;
        }

        .header-section { position: relative; margin-bottom: 70px; }
        .cover-photo {
            width: 100%; height: 200px;
            background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('images/cover.jpg') center/cover;
            background-color: var(--primary);
        }
        .profile-img {
            width: 130px; height: 130px; border-radius: 50%;
            object-fit: cover; border: 5px solid #fff;
            position: absolute; bottom: -65px; left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        /* Ø£Ø²Ø±Ø§Ø± Ø¹Ø§Ø¦Ù…Ø© */
        #backToTop {
            position: fixed; bottom: 30px; right: 20px;
            width: 50px; height: 50px; background: white; color: var(--primary-dark);
            border: 2px solid var(--primary-dark); border-radius: 50%;
            display: none; align-items: center; justify-content: center;
            cursor: pointer; z-index: 4000; transition: 0.3s;
        }
        .cart-floating-btn {
            position: fixed; bottom: 30px; left: 20px;
            background: linear-gradient(135deg, #ff6b81, #ff4757);
            color: white; width: 65px; height: 65px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; z-index: 5000; box-shadow: 0 10px 25px rgba(255, 71, 87, 0.4);
            border: 3px solid white;
        }
        .cart-count {
            position: absolute; top: -5px; right: -5px;
            background: var(--success); color: white;
            font-size: 0.8rem; min-width: 25px; height: 25px;
            border-radius: 50%; display: flex; align-items: center;
            justify-content: center; border: 2px solid white;
        }

        /* Ù‚Ø³Ù… Ø§Ù„ØªÙˆØµÙŠÙ„ ÙÙŠ Ø§Ù„Ø³Ù„Ø© */
        .delivery-section {
            background: #fdf2f4; border-radius: 20px; padding: 15px;
            margin: 15px 0; border: 1px solid #ffccd5; text-align: right;
        }
        .delivery-input-group { position: relative; margin-bottom: 10px; }
        .delivery-input-group input {
            width: 100%; padding: 12px 40px 12px 15px;
            border-radius: 12px; border: 1px solid #ddd; font-family: 'Cairo';
        }
        .delivery-input-group i { position: absolute; right: 15px; top: 50%; transform: translateY(-50%); color: var(--primary); }
        
        .search-dropdown {
            position: absolute; top: 100%; left: 0; width: 100%;
            background: white; z-index: 1000; border-radius: 0 0 12px 12px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1); display: none;
            max-height: 150px; overflow-y: auto;
        }
        .search-item { padding: 10px; cursor: pointer; border-bottom: 1px solid #eee; font-size: 0.85rem; }
        .search-item:hover { background: var(--secondary-bg); }

        .delivery-track {
            height: 6px; background: #e0e0e0; width: 100%;
            margin: 35px 0 10px; position: relative; border-radius: 10px;
        }
        .moto-icon {
            position: absolute; top: -28px; right: 0%;
            font-size: 1.8rem; color: var(--primary-dark);
            transition: right 1.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Ù†Ø§ÙØ°Ø© Ø§Ù„Ø³Ù„Ø© */
        .cart-modal {
            display: none; position: fixed; top: 0; left: 0;
            width: 100%; height: 100%; background: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px); z-index: 9999;
            align-items: center; justify-content: center;
        }
        .cart-content {
            background: white; width: 95%; max-width: 450px;
            padding: 25px; border-radius: 30px; max-height: 90vh;
            display: flex; flex-direction: column; animation: slideUp 0.4s ease;
        }
        @keyframes slideUp { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        #cartItemsList { flex: 1; overflow-y: auto; margin: 15px 0; }
        .cart-item-card {
            display: flex; align-items: center; gap: 10px; padding: 10px;
            background: #fafafa; border-radius: 15px; margin-bottom: 8px;
        }
        .item-img-mini { width: 50px; height: 50px; border-radius: 8px; object-fit: cover; }

        /* Ø§Ù„Ø­Ù„ÙˆÙŠØ§Øª */
        .sweets-grid { display: grid; gap: 15px; padding: 20px; grid-template-columns: repeat(2, 1fr); }
        @media(min-width:700px){ .sweets-grid { grid-template-columns: repeat(3, 1fr); } }
        .sweet-card { background: #fff; border-radius: 20px; padding: 10px; border: 1px solid #fce4ec; transition: 0.3s; }
        .sweet-img { width: 100%; height: 120px; object-fit: cover; border-radius: 15px; }
        .add-to-cart-btn {
            width: 100%; padding: 10px; margin-top: 10px;
            background: var(--primary); color: white; border: none;
            border-radius: 10px; cursor: pointer; font-family: 'Cairo'; font-weight: bold;
        }

        /* Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø¹Ù…Ù„ */
        .hours-card { background: #fff5f7; margin: 20px; padding: 15px; border-radius: 20px; border: 1px solid #fce4ec; }
        .hours-table { width: 100%; border-collapse: separate; border-spacing: 0 8px; }
        .hours-table tr { background: white; border-radius: 10px; }
        .hours-table td { padding: 12px; font-weight: bold; font-size: 0.9rem; }
        .time-cell { color: #666; direction: ltr; text-align: left; }

        /* ØªØ°ÙŠÙŠÙ„ Ø§Ù„ØµÙØ­Ø© */
        .main-footer { background: #2d3436; color: white; padding: 30px 15px; border-radius: 40px 40px 0 0; margin-top: 40px; }
        .footer-logo { font-size: 1.5rem; font-weight: bold; color: var(--primary); margin-bottom: 10px; display: block; }
    </style>
</head>
<body>

<div class="news-ticker">
    <div class="ticker-content">
        ğŸ“¢ Ø§Ù„ØªØ³Ø¬ÙŠÙ„Ø§Øª Ù…ÙØªÙˆØ­Ø© Ù„Ø¯ÙˆØ±Ø© Ø§Ù„Ø­Ù„ÙˆÙŠØ§Øª Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠØ© ÙˆØ§Ù„Ø¹ØµØ±ÙŠØ©.. Ø³Ø§Ø±Ø¹ÙˆØ§ Ø¨Ø­Ø¬Ø² Ø£Ù…Ø§ÙƒÙ†ÙƒÙ…! | ğŸ† Ø´Ù‡Ø§Ø¯Ø§Øª Ù…Ø¹ØªÙ…Ø¯Ø© | ğŸ° Ø·Ù„Ø¨ÙŠØ§Øª Ø§Ù„Ø£Ø¹Ø±Ø§Ø³ Ù…ØªÙˆÙØ±Ø©
    </div>
</div>

<div id="backToTop"><i class="fas fa-chevron-up"></i></div>

<div class="cart-floating-btn" onclick="toggleCart()">
    <i class="fas fa-shopping-basket fa-lg"></i>
    <div class="cart-count" id="cartCount">0</div>
</div>

<div class="main-wrapper">
    <div class="container">
        <div class="header-section">
            <div class="cover-photo"></div>
            <img src="images/amir.jpg" class="profile-img" alt="Amir School">
        </div>

        <div class="school-info">
            <h1>Ù…Ø¯Ø±Ø³Ø© Ø£Ù…ÙŠØ± Ù„Ù„ØªÙƒÙˆÙŠÙ† Ø§Ù„Ù…Ø­ØªØ±Ù</h1>
            <p id="schoolDesc" style="color:var(--muted); font-weight: 600; margin: 10px 0;"></p>
        </div>

        <h3 style="color: var(--primary-dark); margin-top: 30px;">ğŸ° Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ù„ÙˆÙŠØ§Øª ÙˆØ§Ù„Ø·Ù„Ø¨ÙŠØ§Øª</h3>
        <div class="sweets-grid" id="sweetsGrid">
            </div>

        <h3 style="color: var(--primary-dark); margin-top: 30px;"><i class="far fa-clock"></i> Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø¹Ù…Ù„</h3>
        <div class="hours-card">
            <table class="hours-table">
                <tr>
                    <td><i class="fas fa-calendar-day" style="color:var(--primary)"></i> Ø§Ù„Ø³Ø¨Øª â€“ Ø§Ù„Ø®Ù…ÙŠØ³</td>
                    <td class="time-cell">09:00 AM - 05:00 PM</td>
                </tr>
                <tr>
                    <td><i class="fas fa-heart" style="color:var(--primary)"></i> Ø§Ù„Ø¬Ù…Ø¹Ø©</td>
                    <td class="time-cell">02:00 PM - 05:00 PM</td>
                </tr>
            </table>
        </div>

        <footer class="main-footer">
            <span class="footer-logo">AMIR SCHOOL</span>
            <p>Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø±Ø§Ø¦Ø¯ÙŠÙ† ÙÙŠ ØµÙ†Ø§Ø¹Ø© Ø§Ù„Ø­Ù„ÙˆÙŠØ§Øª ÙˆØ§Ù„ØªÙƒÙˆÙŠÙ† Ø§Ù„Ù…Ø­ØªØ±Ù</p>
            <div style="margin-top: 20px;">
                <a href="#" style="color:white; margin: 0 10px;"><i class="fab fa-facebook fa-xl"></i></a>
                <a href="#" style="color:white; margin: 0 10px;"><i class="fab fa-instagram fa-xl"></i></a>
                <a href="#" style="color:white; margin: 0 10px;"><i class="fab fa-whatsapp fa-xl"></i></a>
            </div>
            <div style="margin-top: 20px; font-size: 0.8rem; opacity: 0.6;">
                ØªÙ… Ø§Ù„ØªØµÙ…ÙŠÙ… Ø¨ÙƒÙ„ â¤ï¸ Ù„Ù…Ø¯Ø±Ø³Ø© Ø£Ù…ÙŠØ±
            </div>
        </footer>
    </div>
</div>

<div id="cartModal" class="cart-modal">
    <div class="cart-content">
        <h3 style="text-align:right; color:var(--primary-dark);">ğŸ›’ Ø³Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ÙŠØ§Øª</h3>
        
        <div id="cartItemsList"></div>

        <div class="delivery-section">
            <h4 style="font-size: 0.85rem; margin-bottom: 10px;"><i class="fas fa-truck"></i> Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙˆØµÙŠÙ„ (ÙˆÙ„Ø§ÙŠØ© Ø§Ù„Ø´Ù„Ù)</h4>
            <div class="delivery-input-group">
                <i class="fas fa-map-marker-alt"></i>
                <input type="text" id="destinationInput" placeholder="Ø§ÙƒØªØ¨ ÙˆØ¬Ù‡ØªÙƒ (Ù…Ø«Ù„Ø§Ù‹: Ø³Ù†Ø¬Ø§Ø³ØŒ Ø§Ù„Ø´Ù„Ù)" oninput="searchLocation(this.value)">
                <div id="searchSuggestions" class="search-dropdown"></div>
            </div>

            <div class="delivery-track">
                <i class="fas fa-motorcycle moto-icon" id="motoIcon"></i>
            </div>
            <div style="display: flex; justify-content: space-between; font-size: 0.7rem; font-weight: bold;">
                <span>Ø£ÙˆÙ„Ø§Ø¯ Ù…Ø­Ù…Ø¯</span>
                <span id="targetLabel">Ø§Ù„ÙˆØ¬Ù‡Ø©</span>
            </div>

            <div style="display:flex; justify-content: space-between; margin-top:10px; background:white; padding:8px; border-radius:10px;">
                <span style="font-size:0.8rem;">Ø§Ù„Ù…Ø³Ø§ÙØ©: <b id="distVal">0 ÙƒÙ…</b></span>
                <span style="font-size:0.8rem;">Ø§Ù„ØªÙˆØµÙŠÙ„: <b id="deliveryCostText">0 Ø¯Ø¬</b></span>
            </div>
        </div>

        <div style="border-top: 2px solid #eee; padding-top: 10px;">
            <div style="display: flex; justify-content: space-between; font-weight: bold;">
                <span>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ:</span>
                <span id="totalWithDelivery" style="color:var(--success); font-size: 1.2rem;">0 Ø¯Ø¬</span>
            </div>
        </div>

        <button class="add-to-cart-btn" style="background:var(--success); padding: 15px; margin-top: 15px;" onclick="finalizeOrder()">
            <i class="fab fa-whatsapp"></i> ØªØ£ÙƒÙŠØ¯ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨
        </button>
        <button onclick="toggleCart()" style="background:#eee; color:#333; border:none; padding:10px; border-radius:10px; margin-top:8px; cursor:pointer; width:100%;">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
    const sweets = [
        { id: 1, name: "Ø¨Ù‚Ù„Ø§ÙˆØ© ØªÙ‚Ù„ÙŠØ¯ÙŠØ©", price: 120, img: "images/sweet1.jpg" },
        { id: 2, name: "Ù…Ù‚Ø±ÙˆØ· Ø§Ù„Ù„ÙˆØ²", price: 150, img: "images/sweet2.jpg" },
        { id: 3, name: "Ø¹Ø±Ø§ÙŠØ´ Ù…Ù„ÙƒÙŠ", price: 130, img: "images/sweet3.jpg" },
        { id: 4, name: "ØªØ´Ø§Ø±Ø§Ùƒ Ù…Ø³ÙƒØ±", price: 110, img: "images/sweet4.jpg" }
    ];

    let cart = [];
    let deliveryCost = 0;
    const origin = { lat: 36.1622, lng: 1.3417 }; // Ø£ÙˆÙ„Ø§Ø¯ Ù…Ø­Ù…Ø¯

    // 1. Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
    function renderSweets() {
        const grid = document.getElementById('sweetsGrid');
        grid.innerHTML = sweets.map(s => `
            <div class="sweet-card">
                <img src="${s.img}" class="sweet-img" onerror="this.src='https://via.placeholder.com/150'">
                <div style="font-weight:bold; margin:8px 0; font-size:0.9rem;">${s.name}</div>
                <div style="color:var(--primary-dark); font-weight:800;">${s.price} Ø¯Ø¬</div>
                <button class="add-to-cart-btn" onclick="addToCart(${s.id})">Ø£Ø¶Ù Ù„Ù„Ø·Ù„Ø¨</button>
            </div>
        `).join('');
    }

    // 2. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ù„Ø©
    function addToCart(id) {
        const item = sweets.find(s => s.id === id);
        const inCart = cart.find(c => c.id === id);
        if (inCart) inCart.qty++;
        else cart.push({ ...item, qty: 1 });
        updateCartUI();
    }

    function updateCartUI() {
        document.getElementById('cartCount').innerText = cart.reduce((a, b) => a + b.qty, 0);
        const list = document.getElementById('cartItemsList');
        if (cart.length === 0) {
            list.innerHTML = "<p style='text-align:center; padding:20px;'>Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</p>";
        } else {
            list.innerHTML = cart.map(c => `
                <div class="cart-item-card">
                    <img src="${c.img}" class="item-img-mini">
                    <div style="flex:1; text-align:right;">
                        <div style="font-weight:bold; font-size:0.85rem;">${c.name}</div>
                        <div style="color:var(--primary); font-size:0.8rem;">${c.price} Ø¯Ø¬</div>
                    </div>
                    <div style="display:flex; align-items:center; gap:5px; background:#eee; padding:5px; border-radius:10px;">
                        <button onclick="changeQty(${c.id}, 1)" style="border:none; background:white; width:20px; border-radius:5px;">+</button>
                        <span>${c.qty}</span>
                        <button onclick="changeQty(${c.id}, -1)" style="border:none; background:white; width:20px; border-radius:5px;">-</button>
                    </div>
                </div>
            `).join('');
        }
        calculateTotal();
    }

    function changeQty(id, delta) {
        const item = cart.find(c => c.id === id);
        item.qty += delta;
        if (item.qty < 1) cart = cart.filter(c => c.id !== id);
        updateCartUI();
    }

    function calculateTotal() {
        const subtotal = cart.reduce((a, b) => a + (b.price * b.qty), 0);
        document.getElementById('totalWithDelivery').innerText = (subtotal + deliveryCost) + " Ø¯Ø¬";
    }

    function toggleCart() {
        const modal = document.getElementById('cartModal');
        modal.style.display = (modal.style.display === 'flex') ? 'none' : 'flex';
    }

    // 3. Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ØªÙˆØµÙŠÙ„
    async function searchLocation(query) {
        const dropdown = document.getElementById('searchSuggestions');
        if (query.length < 3) { dropdown.style.display = 'none'; return; }
        
        try {
            const res = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${query}, Chlef, Algeria&limit=5`);
            const data = await res.json();
            dropdown.innerHTML = data.map(d => `
                <div class="search-item" onclick="selectLoc(${d.lat}, ${d.lon}, '${d.display_name}')">${d.display_name}</div>
            `).join('');
            dropdown.style.display = 'block';
        } catch (e) {}
    }

    function selectLoc(lat, lon, name) {
        document.getElementById('destinationInput').value = name;
        document.getElementById('searchSuggestions').style.display = 'none';
        document.getElementById('targetLabel').innerText = name.split(',')[0];

        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³Ø§ÙØ© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©
        fetch(`https://router.project-osrm.org/route/v1/driving/${origin.lng},${origin.lat};${lon},${lat}?overview=false`)
            .then(r => r.json())
            .then(data => {
                const dist = data.routes[0].distance / 1000;
                document.getElementById('distVal').innerText = dist.toFixed(1) + " ÙƒÙ…";
                
                // Ù…Ù†Ø·Ù‚ Ø§Ù„ØªØ³Ø¹ÙŠØ±
                let cost = 150;
                if (dist > 5) cost = 200 + Math.ceil((dist - 5) / 3) * 50;
                deliveryCost = cost;
                document.getElementById('deliveryCostText').innerText = cost + " Ø¯Ø¬";
                
                // ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ù…ÙˆØªÙˆ
                const move = Math.min((dist / 20) * 100, 92);
                document.getElementById('motoIcon').style.right = move + "%";
                calculateTotal();
            });
    }

    // 4. Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨
    function finalizeOrder() {
        if (cart.length === 0) return alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©!");
        let msg = `Ø·Ù„Ø¨ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† Ù…Ø¯Ø±Ø³Ø© Ø£Ù…ÙŠØ±:%0A`;
        cart.forEach(c => msg += `- ${c.name} (${c.qty} Ù‚Ø·Ø¹Ø©)%0A`);
        msg += `%0AØ§Ù„ÙˆØ¬Ù‡Ø©: ${document.getElementById('destinationInput').value}`;
        msg += `%0AØªÙˆØµÙŠÙ„: ${deliveryCost} Ø¯Ø¬`;
        msg += `%0AØ§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${document.getElementById('totalWithDelivery').innerText}`;
        
        window.open(`https://wa.me/213000000000?text=${msg}`); // Ø¶Ø¹ Ø±Ù‚Ù…Ùƒ Ù‡Ù†Ø§
    }

    // 5. ØªØ£Ø«ÙŠØ±Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
    function typeEffect() {
        const texts = ["Ù†ØªØ¹Ù„Ù… Ù„Ù†Ø¨Ø¯Ø¹.. Ù†ØµÙ†Ø¹ Ù„Ù†ØªÙ…ÙŠØ²", "Ø¯ÙˆØ±Ø§Øª Ø§Ø­ØªØ±Ø§ÙÙŠØ© ÙÙŠ Ø§Ù„Ø­Ù„ÙˆÙŠØ§Øª", "Ø·Ù„Ø¨ÙŠØ§ØªÙƒÙ… ØªØµÙ„ÙƒÙ… Ø£ÙŠÙ†Ù…Ø§ ÙƒÙ†ØªÙ…"];
        let i = 0, j = 0, current = "", isDeleting = false;
        const el = document.getElementById('schoolDesc');

        function loop() {
            current = texts[i];
            if (isDeleting) el.innerText = current.substring(0, j--);
            else el.innerText = current.substring(0, j++);

            if (!isDeleting && j === current.length + 1) { isDeleting = true; setTimeout(loop, 2000); }
            else if (isDeleting && j === 0) { isDeleting = false; i = (i + 1) % texts.length; setTimeout(loop, 500); }
            else setTimeout(loop, 100);
        }
        loop();
    }

    window.onload = () => {
        renderSweets();
        typeEffect();
    };

    window.onscroll = () => {
        document.getElementById('backToTop').style.display = (window.scrollY > 400) ? 'flex' : 'none';
    };
    document.getElementById('backToTop').onclick = () => window.scrollTo({top:0, behavior:'smooth'});
</script>

</body>
    
</html>
